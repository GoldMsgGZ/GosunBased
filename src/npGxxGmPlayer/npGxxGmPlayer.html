<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>npGxxGmPlayer 测试页面</title>
 </head>
 <body>
  <script>
  var gxxGmPlayer;

  // 初始化
  function OnInit() {
	  gxxGmPlayer = document.getElementById("npGxxGmPlayer");
	  gxxGmPlayer.Initialize(1, 1);
  }

  // 获取版本号
  function OnGetVersion() {
	  var version = gxxGmPlayer.GetVersion();
	  alert(version);
  }

  // 分屏
  function OnDivision() {
	  var row_count_obj = document.getElementById("row_count");
	  var list_count_obj = document.getElementById("list_count");

	  // 
	  var row_count_index = row_count_obj.selectedIndex;
	  var list_count_index = list_count_obj.selectedIndex;

	  var row_count = Number(row_count_obj.options[row_count_index].value);
	  var list_count = Number(list_count_obj.options[list_count_index].value);

	  var disp_index = Number(document.getElementById("disp_index").value);
	  gxxGmPlayer.SetDispCount(row_count, list_count);
  }

  // 播放
  function OnPlay() {
	  var disp_index = Number(document.getElementById("disp_index").value);
	  var url = document.getElementById("url").value;
	  var param = document.getElementById("param").value;

	  var realmode = 0;
	  if (document.getElementById("is_real_mode").checked)
		  realmode = 1;

	  gxxGmPlayer.Play(url, param, disp_index, realmode);
  }

  // 暂停
  function OnPause() {
	  var disp_index = Number(document.getElementById("disp_index").value);
	  gxxGmPlayer.Pause(disp_index);
  }

  // 恢复
  function OnResume() {
	  var disp_index = Number(document.getElementById("disp_index").value);
	  gxxGmPlayer.Resume(disp_index);
  }

  // 停止
  function OnStop() {
	  var disp_index = Number(document.getElementById("disp_index").value);
	  gxxGmPlayer.Stop(disp_index);
  }

  // 获取播放URL
  function OnGetPlayingURL() {
	  var disp_index = Number(document.getElementById("disp_index").value);
	  var url = gxxGmPlayer.GetPlayingURL(disp_index);

	  alert('播放URL:' + url);
  }

  // 获取播放信息
  function OnGetPlayInfo() {
	  var disp_index = Number(document.getElementById("disp_index").value);
	  var info = gxxGmPlayer.GetPlayInfo(disp_index);

	  alert('播放信息:' + info);
  }
  </script>

  <embed type="application/npGxxGmPlayer-plugin" name="npGxxGmPlayer" id="npGxxGmPlayer" width="800" height="600">

  <br />
  <input type="button" value="初始化" onclick="OnInit()" />
  <input type="button" value="获取版本号" onclick="OnGetVersion()" />

  <br />
  <br />
  <span>分屏行数</span>
  <select id="row_count">
   <option value="1">1</option>
   <option value="2">2</option>
   <option value="3">3</option>
   <option value="4">4</option>
   <option value="5">5</option>
   <option value="6">6</option>
   <option value="7">7</option>
   <option value="8">8</option>
   <option value="9">9</option>
  </select>
  <span>分屏列数</span>
  <select id="list_count">
   <option value="1">1</option>
   <option value="2">2</option>
   <option value="3">3</option>
   <option value="4">4</option>
   <option value="5">5</option>
   <option value="6">6</option>
   <option value="7">7</option>
   <option value="8">8</option>
   <option value="9">9</option>
  </select>
  <input type="button" value="分屏" onclick="OnDivision()"/>

  <br />
  <br />
  <span>子窗口索引</span>
  <input type="text" value="0" id="disp_index" />
  
  <br />
  <span>媒体URL</span>
  <input type="text" value="http://127.0.0.1/live/15s.mp4" id="url" />
  
  <br />
  <span>播放信息</span>
  <input type="text" value='{"deviceid":"00000000000000000001","userid":"000001","username":"邱业兴"}' id="param" />

  <br />
  <input type="checkbox" name="is_real_mode" value="实时模式" checked="checked" id="is_real_mode" />实时模式
  
  <br />
  <input type="button" value="播放" onclick="OnPlay()"/>
  <input type="button" value="暂停" onclick="OnPause()"/>
  <input type="button" value="恢复" onclick="OnResume()"/>
  <input type="button" value="停止" onclick="OnStop()"/>
  
  <br />
  <input type="button" value="取得播放地址" onclick="OnGetPlayingURL()"/>
  <input type="button" value="取得播放信息" onclick="OnGetPlayInfo()"/>

 </body>
</html>
